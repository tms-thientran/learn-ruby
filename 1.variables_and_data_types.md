# Bài tập: Variables & Data Types trong Ruby (10 bài từ cơ bản -> nâng cao)

Mỗi bài gồm mô tả, độ khó, mục tiêu học và gợi ý kiểm thử. Làm file Ruby riêng cho mỗi bài (ví dụ `exercise_01.rb` ...).

---

## Bài 1 — Biến và in ra (Cơ bản)
- Độ khó: ⭐
- Mục tiêu: Hiểu khai báo biến local, in ra bằng `puts` và string interpolation.
- Yêu cầu: Tạo 3 biến: tên (String), tuổi (Integer), cao_mét (Float). In ra câu: "Tôi là <tên>, <tuổi> tuổi, cao <cao_mét>m".
- Ví dụ:
  - Input: (không cần)
  - Output: `Tôi là An, 25 tuổi, cao 1.72m`
- Gợi ý: dùng `#{}` trong chuỗi đôi.

---

## Bài 2 — Toán học & ép kiểu (Cơ bản)
- Độ khó: ⭐⭐
- Mục tiêu: Thao tác số nguyên và float, ép kiểu với `.to_i`, `.to_f`, `.to_s`.
- Yêu cầu: Viết hàm `bmi(weight_kg, height_m)` trả về BMI làm tròn 2 chữ số thập phân (float).
- Kiểm thử ví dụ: `bmi(70, 1.75) => 22.86`
- Gợi ý: BMI = weight / (height ** 2); dùng `round(2)`.

---

## Bài 3 — Chuỗi: thao tác và phương thức (Cơ bản -> trung bình)
- Độ khó: ⭐⭐
- Mục tiêu: Biết các method chuỗi: `upcase`, `downcase`, `strip`, `split`, `gsub`, `include?`.
- Yêu cầu: Viết script nhận chuỗi, chuẩn hoá: loại khoảng trắng 2 đầu, thay tất cả kí tự số bằng `#`, in hoa toàn bộ chuỗi.
- Kiểm thử: `"  ruby123 rocks "` -> `"RUBY### ROCKS"`

---

## Bài 4 — Mảng: tạo, truy cập, thay đổi (Trung bình)
- Độ khó: ⭐⭐⭐
- Mục tiêu: Thao tác với Array: `push`, `pop`, `shift`, `unshift`, `map`, `select`, `reject`.
- Yêu cầu: Tạo mảng số nguyên, trả về một mảng mới chỉ gồm số chẵn bình phương (sắp xếp tăng).
- Kiểm thử: `[1,2,3,4]` -> `[4,16]`

---

## Bài 5 — Hashes: tạo, truy xuất, merge (Trung bình)
- Độ khó: ⭐⭐⭐
- Mục tiêu: Sử dụng Hash, default value, `merge`, `fetch`.
- Yêu cầu: Viết hàm `count_words(text)` trả về hash {word => count} (không phân biệt hoa thường).
- Kiểm thử: `"Ruby ruby js"` -> `{"ruby"=>2, "js"=>1}`

---

## Bài 6 — Symbol vs String & Memory (Trung bình)
- Độ khó: ⭐⭐⭐
- Mục tiêu: Hiểu khác biệt Symbol và String, khi dùng symbol hợp lý.
- Yêu cầu: Viết ví dụ minh hoạ tạo 1000 key string và 1000 key symbol trong hash; đo kích thước bằng `ObjectSpace.memsize_of` (tuỳ hệ thống) hoặc giải thích khác biệt.
- Gợi ý: dùng loop để tạo và so sánh thời gian/nhớ (tùy môi trường).

---

## Bài 7 — Ranges và iteration (Trung bình -> nâng cao)
- Độ khó: ⭐⭐⭐
- Mục tiêu: Dùng Range, `each`, `include?`, `to_a`.
- Yêu cầu: Viết hàm `prime_in_range(a, b)` trả về danh sách số nguyên tố trong [a..b].
- Kiểm thử: `prime_in_range(10, 20) => [11,13,17,19]`
- Gợi ý: Viết helper kiểm tra nguyên tố; tối ưu nhẹ bằng kiểm tra đến sqrt(n).

---

## Bài 8 — Scope: global, instance, class, local (Nâng cao)
- Độ khó: ⭐⭐⭐⭐
- Mục tiêu: Hiểu phạm vi biến `$global`, `@instance`, `@@class`, local và hằng số `CONST`.
- Yêu cầu: Tạo class `Counter`:
  - `@@total_instances` đếm số instance khởi tạo,
  - mỗi instance có `@count` có thể `increment`, `value`,
  - có method class `total_instances`.
- Kiểm thử: Tạo 3 instance, gọi `Counter.total_instances => 3`, mỗi instance giữ trạng thái riêng.

---

## Bài 9 — Nil, boolean và kiểm soát luồng (Nâng cao)
- Độ khó: ⭐⭐⭐⭐
- Mục tiêu: Hiểu `nil`, `false` là falsy; dùng `||`, `&&`, `nil?`, `||=`.
- Yêu cầu: Viết hàm `safe_fetch(hash, key, default)` trả về giá trị nếu tồn tại và không `nil`, ngược lại trả default; dùng `||=` trong implementation.
- Kiểm thử: `safe_fetch({a: nil}, :a, 5) => 5`; `safe_fetch({a:0}, :a, 5) => 0`

---

## Bài 10 — Mini project: Serializing object (Nâng cao)
- Độ khó: ⭐⭐⭐⭐⭐
- Mục tiêu: Kết hợp mọi loại biến, hằng, class/instance vars, string/array/hash, và chuyển đổi dữ liệu.
- Yêu cầu:
  - Tạo class `Person` với: `NAME_FORMAT` (constant template), instance vars `@name`, `@age`, `@skills` (array), class var `@@registry` (hash mapping id => person).
  - Implement: `to_hash`, `to_json` (dùng `require 'json'`), class method `find(id)`, `register` (gán id tự tăng).
  - Viết script demo: tạo vài Person, register, in `to_json`, load lại bằng `JSON.parse` và khôi phục thành object (optional).
- Kiểm thử: đảm bảo `to_hash` có keys symbol/string theo yêu cầu; `@@registry` lưu đúng.

---
